<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Welcome to Firebase Hosting</title>

	<link rel="stylesheet" href="../css/master.css">
    <link rel="stylesheet" href="../css/support.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/styles/default.min.css">

	<!-- update the version number as needed -->
	<script defer src="/__/firebase/7.1.0/firebase-app.js"></script>
	<!-- include only the Firebase features as you need -->
	<script defer src="/__/firebase/7.1.0/firebase-auth.js"></script>
	<script defer src="/__/firebase/7.1.0/firebase-firestore.js"></script>
	<script defer src="/__/firebase/7.1.0/firebase-messaging.js"></script>
	<script defer src="/__/firebase/7.1.0/firebase-storage.js"></script>
	<!-- initialize the SDK after all desired features are loaded -->
	<script defer src="/__/firebase/init.js"></script>
	<!-- grab jquery -->
	<script defer src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0/dist/Chart.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>

</head>

<body>
	<div class="container">
		<!-- Add all page content inside this div if you want the side nav to push page content to the right (not used if you only want the sidenav to sit on top of the page -->
		<div id="main">
            <div>To use python to interact with our REST API, start by installing the firebase_admin python library:</div><br>
            <code class="plaintext hljs">
                pip install --upgrade firebase-admin
            </code>
            <br><br><br>
            <div>Initialization on Google Cloud Platform</div><br>
            <code class="python hljs">
                    import firebase_admin<br>
                    from firebase_admin import credentials<br>
                    from firebase_admin import firestore<br>
                    <br>
                    # Use the application default credentials<br>
                    cred = credentials.ApplicationDefault()<br>
                    firebase_admin.initialize_app(cred, {<br>
                      'projectId': project_id,<br>
                    })<br>
                    <br>
                    db = firestore.client()<br>
            </code>
            <br><br>
            <div>Add Data</div><br>
            <code class="python hljs">
                doc_ref = db.collection(u'data').document(u'alovelace')<br>
                doc_ref.set({<br>
                    u'first': u'Ada',<br>
                    u'last': u'Lovelace',<br>
                    u'born': 1815<br>
                })<br>
            </code><br><br>
            <div>Retrieve Data</div><br>
            <code class="python hljs">
                    data_ref = db.collection(u'data')<br>
                    docs = data_ref.stream()<br>
                    <br>
                    for doc in docs:<br>
                        print(u'{} => {}'.format(doc.id, doc.to_dict()))<br>
            </code>
		</div>
	</div>
	<script src="../js/master.js"></script>
</body>

</html>